---
name: pr
invocable: true
description: |
  Pull Request ìƒì„± ì „ë¬¸ê°€.
  ë¸Œëœì¹˜ ë³€ê²½ì‚¬í•­ ë¶„ì„ í›„ ì»¨ë²¤ì…˜ì— ë§ëŠ” PR ìƒì„±.
  Triggers: PR ë§Œë“¤ì–´ì¤˜, PR ìƒì„±, pull request,
           pr, í’€ë¦¬í€˜, í”¼ì•Œ
allowed-tools:
  - Bash
  - Read
  - Grep
  - Glob
---

# Pull Request Skill

## ë¸Œëœì¹˜ ì „ëµ

```
main â† develop â† feature/xxx
                â† fix/xxx
                â† refactor/xxx
```

- `main`: í”„ë¡œë•ì…˜ ë°°í¬ ë¸Œëœì¹˜
- `develop`: ê°œë°œ í†µí•© ë¸Œëœì¹˜ (PR ê¸°ë³¸ base)
- `feature/*`: ê¸°ëŠ¥ ê°œë°œ ë¸Œëœì¹˜
- `fix/*`: ë²„ê·¸ ìˆ˜ì • ë¸Œëœì¹˜
- `refactor/*`: ë¦¬íŒ©í† ë§ ë¸Œëœì¹˜

## PR ìƒì„± ì ˆì°¨

### 1ë‹¨ê³„: í˜„ì¬ ìƒíƒœ ë¶„ì„ (ë³‘ë ¬ ì‹¤í–‰)

```bash
# ë³€ê²½ëœ íŒŒì¼ í™•ì¸
git status

# ìŠ¤í…Œì´ì§€ + ì–¸ìŠ¤í…Œì´ì§€ diff
git diff
git diff --staged

# base ë¸Œëœì¹˜ ëŒ€ë¹„ ì „ì²´ ë³€ê²½
git diff develop...HEAD

# ì»¤ë°‹ íˆìŠ¤í† ë¦¬ (base ë¸Œëœì¹˜ ì´í›„)
git log develop..HEAD --oneline

# ë¦¬ëª¨íŠ¸ ë™ê¸°í™” ìƒíƒœ
git status -sb
```

### 2ë‹¨ê³„: ë³€ê²½ì‚¬í•­ ë¶„ì„

ëª¨ë“  ì»¤ë°‹ì„ í™•ì¸í•˜ì—¬ ë‹¤ìŒì„ íŒŒì•…:
- ì˜í–¥ë°›ëŠ” íŒ¨í‚¤ì§€/ì„œë¹„ìŠ¤ ëª©ë¡
- ìƒˆ ê¸°ëŠ¥ / ë²„ê·¸ ìˆ˜ì • / ë¦¬íŒ©í† ë§ êµ¬ë¶„
- Breaking changes ì—¬ë¶€
- DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—¬ë¶€

### 3ë‹¨ê³„: PR ìƒì„±

```bash
# í•„ìš” ì‹œ ë¦¬ëª¨íŠ¸ push
git push -u origin HEAD

# PR ìƒì„±
gh pr create --base develop --title "PR ì œëª©" --body "$(cat <<'EOF'
PR ë³¸ë¬¸ (ì•„ë˜ í…œí”Œë¦¿ ì°¸ê³ )
EOF
)"
```

## PR ì œëª© í˜•ì‹

ì»¤ë°‹ ë©”ì‹œì§€ì™€ ë™ì¼í•œ Conventional Commits ìŠ¤íƒ€ì¼:

```
<type>(<scope>): <í•œêµ­ì–´ ì„¤ëª…>
```

- 70ì ì´ë‚´
- scopeëŠ” ì£¼ìš” ë³€ê²½ ëŒ€ìƒ
- ì—¬ëŸ¬ scopeë©´ ê°€ì¥ í° ê²ƒ í•˜ë‚˜ ë˜ëŠ” ìƒëµ

**ì˜ˆì‹œ:**
- `feat(trustee): ìˆ˜íƒì‚¬ CRUD API ë° ëª©ë¡ í˜ì´ì§€ êµ¬í˜„`
- `fix(gateway): gRPC ì—°ê²° íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬ ê°œì„ `
- `refactor: API í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬ í•¸ë“¤ë§ í†µí•©`
- `feat(inspection): ì ê²€ ë“±ë¡/ìˆ˜ì • í¼ êµ¬í˜„`

## PR ë³¸ë¬¸ í…œí”Œë¦¿

```markdown
## Summary
<!-- ì´ PRì´ í•´ê²°í•˜ëŠ” ë¬¸ì œì™€ ì ‘ê·¼ ë°©ì‹ì„ 1-3ì¤„ë¡œ ì„¤ëª… -->

- ìˆ˜íƒì‚¬ CRUD API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (4ê³„ì¸µ ì•„í‚¤í…ì²˜)
- ìˆ˜íƒì‚¬ ëª©ë¡/ë“±ë¡/ìˆ˜ì •/ìƒì„¸ í˜ì´ì§€ êµ¬í˜„
- React Query + React Hook Form + Zod ì—°ë™

## Changes

### Backend (`services/trustee`)
- `TrusteeRepository`: Prisma ê¸°ë°˜ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
- `TrusteeService`: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ì¤‘ë³µ ì‚¬ì—…ìë²ˆí˜¸ ê²€ì¦, ì´ë²¤íŠ¸ ë°œí–‰)
- `TrusteeController`: Express ìš”ì²­ í•¸ë“¤ëŸ¬
- `validation.ts`: Zod ì…ë ¥ ê²€ì¦ ìŠ¤í‚¤ë§ˆ

### Frontend (`apps/web`)
- `app/(dashboard)/trustees/page.tsx`: ìˆ˜íƒì‚¬ ëª©ë¡ (DataTable, ê²€ìƒ‰, í•„í„°)
- `app/(dashboard)/trustees/new/page.tsx`: ìˆ˜íƒì‚¬ ë“±ë¡ í¼
- `app/(dashboard)/trustees/[id]/page.tsx`: ìˆ˜íƒì‚¬ ìƒì„¸
- `hooks/useTrustees.ts`: React Query ì»¤ìŠ¤í…€ í›…

### Shared Packages
- `@trustee/types`: CreateTrusteeInput íƒ€ì… ì¶”ê°€

## Test plan
<!-- í…ŒìŠ¤íŠ¸ ë°©ë²• ì²´í¬ë¦¬ìŠ¤íŠ¸ -->

- [ ] `pnpm -r type-check` í†µê³¼
- [ ] `pnpm -r lint` í†µê³¼
- [ ] ìˆ˜íƒì‚¬ ëª©ë¡ ì¡°íšŒ ì •ìƒ ë™ì‘
- [ ] ìˆ˜íƒì‚¬ ë“±ë¡ â†’ ëª©ë¡ ë°˜ì˜ í™•ì¸
- [ ] ìˆ˜íƒì‚¬ ìˆ˜ì • â†’ ë³€ê²½ì‚¬í•­ ë°˜ì˜ í™•ì¸
- [ ] ìˆ˜íƒì‚¬ ì‚­ì œ â†’ ëª©ë¡ì—ì„œ ì œê±° í™•ì¸
- [ ] ìœ íš¨ì„± ê²€ì¦ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ í™•ì¸

## Notes
<!-- ë¦¬ë·°ì–´ê°€ ì•Œì•„ì•¼ í•  ì‚¬í•­ (ì„ íƒ) -->

- DB ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”: `pnpm --filter @trustee/trustee-service db:push`
- í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ ì—†ìŒ

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
```

## ë³¸ë¬¸ ì„¹ì…˜ ê°€ì´ë“œ

### Summary (í•„ìˆ˜)
- 1-3ê°œ ë¶ˆë¦¿ í¬ì¸íŠ¸
- "ë¬´ì—‡ì„"ê³¼ "ì™œ"ë¥¼ ê°„ê²°í•˜ê²Œ
- ê¸°ìˆ ì  ê²°ì •ì˜ ê·¼ê±° í¬í•¨

### Changes (í•„ìˆ˜)
- ì˜í–¥ë°›ëŠ” íŒ¨í‚¤ì§€/ì„œë¹„ìŠ¤ë³„ë¡œ ê·¸ë£¹í•‘
- íŒŒì¼ ê²½ë¡œì™€ ì—­í•  ì„¤ëª…
- ìƒˆ íŒŒì¼ì€ ëª…ì‹œ, ìˆ˜ì •ì€ ë³€ê²½ ë‚´ìš© ì„¤ëª…

### Test plan (í•„ìˆ˜)
- ì²´í¬ë°•ìŠ¤ í˜•ì‹ (`- [ ]`)
- ë¹Œë“œ/ë¦°íŠ¸ í†µê³¼ í•­ëª© í¬í•¨
- ê¸°ëŠ¥ë³„ ìˆ˜ë™ í…ŒìŠ¤íŠ¸ í•­ëª©
- ìë™í™” í…ŒìŠ¤íŠ¸ê°€ ìˆìœ¼ë©´ ì‹¤í–‰ ëª…ë ¹ì–´ í¬í•¨

### Notes (ì„ íƒ)
- DB ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš” ì—¬ë¶€
- ìƒˆ í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ ì—¬ë¶€
- Breaking changes
- í›„ì† ì‘ì—… (TODO)
- ìŠ¤í¬ë¦°ìƒ· (UI ë³€ê²½ ì‹œ)

## PR í¬ê¸° ê°€ì´ë“œ

| í¬ê¸° | íŒŒì¼ ìˆ˜ | ê¶Œì¥ |
|------|---------|------|
| S | 1-5 | ë‹¨ì¼ ê¸°ëŠ¥/ìˆ˜ì • |
| M | 6-15 | í•˜ë‚˜ì˜ ì™„ì„±ëœ ê¸°ëŠ¥ |
| L | 16-30 | ê¸°ëŠ¥ + í…ŒìŠ¤íŠ¸, ë¶„ë¦¬ ê²€í†  |
| XL | 30+ | ë°˜ë“œì‹œ ë¶„ë¦¬ í•„ìš” |

í° PRì€ ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë¶„ë¦¬:
```
# ì¢‹ìŒ
PR 1: feat(trustee): ìˆ˜íƒì‚¬ CRUD API êµ¬í˜„
PR 2: feat(web): ìˆ˜íƒì‚¬ ëª©ë¡/ë“±ë¡ í˜ì´ì§€ êµ¬í˜„

# ë‚˜ì¨
PR 1: feat: ìˆ˜íƒì‚¬ ê¸°ëŠ¥ ì „ì²´ êµ¬í˜„ (50+ files changed)
```

## Label ê°€ì´ë“œ (gh ì˜µì…˜)

```bash
# ë¼ë²¨ ì¶”ê°€ ì‹œ
gh pr create --label "feature" --label "backend"
```

| Label | ìš©ë„ |
|-------|------|
| `feature` | ìƒˆ ê¸°ëŠ¥ |
| `bugfix` | ë²„ê·¸ ìˆ˜ì • |
| `refactor` | ë¦¬íŒ©í† ë§ |
| `frontend` | í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ |
| `backend` | ë°±ì—”ë“œ ë³€ê²½ |
| `breaking` | Breaking change |
| `database` | DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ |

## base ë¸Œëœì¹˜ ê²°ì •

- ê¸°ëŠ¥ ê°œë°œ â†’ `develop`
- ê¸´ê¸‰ ë²„ê·¸ ìˆ˜ì • â†’ `main` (hotfix)
- ê¸°ë³¸ê°’: `develop`

```bash
# ê¸°ë³¸ (developìœ¼ë¡œ)
gh pr create --base develop

# hotfix (mainìœ¼ë¡œ)
gh pr create --base main
```

## ì£¼ì˜ì‚¬í•­

- PR ìƒì„± ì „ ì»¤ë°‹ë˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ í™•ì¸
- push ë˜ì§€ ì•Šì€ ì»¤ë°‹ì´ ìˆìœ¼ë©´ ë¨¼ì € push
- base ë¸Œëœì¹˜ì™€ì˜ conflict í™•ì¸
- .env, credentials íŒŒì¼ì´ í¬í•¨ë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸
- PR URLì„ ë°˜ë“œì‹œ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜
